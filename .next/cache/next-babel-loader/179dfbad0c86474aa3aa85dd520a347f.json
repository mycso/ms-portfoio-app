{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Michael\\\\Documents\\\\reactJS\\\\stax-of-stories-2\\\\stax2\\\\frontend\\\\components\\\\Account.js\";\n// import NavLink from './Link'\nimport React from 'react';\nimport { useUser } from './User';\nimport { useQuery } from '@apollo/client';\nimport { format } from 'date-fns';\nimport Head from 'next/head';\nimport gql from 'graphql-tag';\nimport formatMoney from '../lib/formatMoney';\nimport Error from './ErrorMessage';\nimport styled from 'styled-components';\nimport OrderStyles from './styles/OrderStyles';\nimport SubHeader from '../components/SubHeader'; // import DeleteUser from './DeleteUser'; \n\nconst SINGLE_ORDER_QUERY = gql`\n\tquery SINGLE_ORDER_QUERY($id: ID!) {\n\t\torder(id: $id) {\n\t\t\tid\n\t\t\tcharge\n\t\t\ttotal\n\t\t\tcreatedAt\n\t\t\tuser {\n\t\t\t\tid\n\t\t\t}\n\t\t\titems {\n\t\t\t\tid\n\t\t\t\ttitle\n\t\t\t\tdescription\n\t\t\t\tprice\n\t\t\t\timage\n\t\t\t\tquantity\n\t\t\t}\n\t\t}\n\t}\n`;\nconst CURRENT_USER_QUERY = gql`\n    query {\n        authenticatedItem {\n            ... on User {\n                id\n                email\n                name\n                cart {\n                    id\n                    quantity\n                    product {\n                        id\n                        price\n                        name\n                        description\n                        photo {\n                            image {\n                                publicUrlTransformed\n                            }\n                        }\n                    }\n                }\n                role {\n                    id\n                    name\n                    canManageProducts\n                    canSeeOtherUsers\n                    canManageUsers\n                    canManageRoles\n                    canManageCart\n                    canManageOrders\n                    canManageReviews\n                }\n            }\n        }\n    }\n`;\nconst StyledLinked = styled.div.withConfig({\n  displayName: \"Account__StyledLinked\",\n  componentId: \"ev7y8w-0\"\n})([\"a{color:\", \";}a:hover{color:\", \";text-decoration:none;}\"], props => props.theme.navyBlue, props => props.theme.navyBlue);\nexport default function Account({\n  id\n}) {\n  var _data$authenticatedIt, _data$authenticatedIt2;\n\n  const user = useUser();\n  const {\n    data,\n    error,\n    loading\n  } = useQuery(CURRENT_USER_QUERY, {\n    variables: {\n      id\n    }\n  });\n  console.log(data);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 22\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"Error: \", error.message]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(StyledLinked, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(OrderStyles, {\n        \"data-test\": \"user\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"User ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: data === null || data === void 0 ? void 0 : (_data$authenticatedIt = data.authenticatedItem) === null || _data$authenticatedIt === void 0 ? void 0 : _data$authenticatedIt.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: data === null || data === void 0 ? void 0 : (_data$authenticatedIt2 = data.authenticatedItem) === null || _data$authenticatedIt2 === void 0 ? void 0 : _data$authenticatedIt2.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Orders:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(NavLink, {\n              activeClassName: \"active\",\n              prefetch: \"true\",\n              href: \"/orders\",\n              children: /*#__PURE__*/_jsxDEV(\"u\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"\",\n                  children: \"Purchased Orders\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 16\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 12\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 8\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 3\n  }, this);\n}","map":{"version":3,"sources":["C:/Users/Michael/Documents/reactJS/stax-of-stories-2/stax2/frontend/components/Account.js"],"names":["React","useUser","useQuery","format","Head","gql","formatMoney","Error","styled","OrderStyles","SubHeader","SINGLE_ORDER_QUERY","CURRENT_USER_QUERY","StyledLinked","div","props","theme","navyBlue","Account","id","user","data","error","loading","variables","console","log","message","authenticatedItem","email"],"mappings":";;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,QAAxB;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,SAAP,MAAsB,yBAAtB,C,CACA;;AAEA,MAAMC,kBAAkB,GAAGN,GAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CApBA;AAuBA,MAAMO,kBAAkB,GAAGP,GAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CApCA;AAsCA,MAAMQ,YAAY,GAAGL,MAAM,CAACM,GAAV;AAAA;AAAA;AAAA,gEAGJC,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYC,QAHjB,EAOJF,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYC,QAPjB,CAAlB;AAaA,eAAe,SAASC,OAAT,CAAiB;AAAEC,EAAAA;AAAF,CAAjB,EAAyB;AAAA;;AACvC,QAAMC,IAAI,GAAGnB,OAAO,EAApB;AAEA,QAAM;AAAEoB,IAAAA,IAAF;AAAQC,IAAAA,KAAR;AAAeC,IAAAA;AAAf,MAA2BrB,QAAQ,CAACU,kBAAD,EAAqB;AACvDY,IAAAA,SAAS,EAAE;AACPL,MAAAA;AADO;AAD4C,GAArB,CAAzC;AAMAM,EAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AAEA,MAAIE,OAAJ,EAAa,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACV,MAAID,KAAJ,EAAW,oBAAO;AAAA,0BAAWA,KAAK,CAACK,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAEd,sBACC,QAAC,YAAD;AAAA,2BAQK;AAAA,6BACC,QAAC,WAAD;AAAa,qBAAU,MAAvB;AAAA,gCACC;AAAA,kCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AAAA,sBAAON,IAAP,aAAOA,IAAP,gDAAOA,IAAI,CAAEO,iBAAb,0DAAO,sBAAyBT;AAAhC;AAAA;AAAA;AAAA;AAAA,kBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAKC;AAAA,kCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AAAA,sBAAOE,IAAP,aAAOA,IAAP,iDAAOA,IAAI,CAAEO,iBAAb,2DAAO,uBAAyBC;AAAhC;AAAA;AAAA;AAAA;AAAA,kBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,gBALD,eAiBC;AAAA,kCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AAAA,mCACC,QAAC,OAAD;AAAS,cAAA,eAAe,EAAC,QAAzB;AAAkC,cAAA,QAAQ,EAAC,MAA3C;AAAkD,cAAA,IAAI,EAAC,SAAvD;AAAA,qCACC;AAAA,uCAAG;AAAG,kBAAA,IAAI,EAAC,EAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjBD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AARL;AAAA;AAAA;AAAA;AAAA,UADD;AAuEA","sourcesContent":["// import NavLink from './Link'\r\nimport React from 'react';\r\nimport { useUser } from './User';\r\nimport { useQuery } from '@apollo/client';\r\nimport { format } from 'date-fns';\r\nimport Head from 'next/head';\r\nimport gql from 'graphql-tag';\r\nimport formatMoney from '../lib/formatMoney';\r\nimport Error from './ErrorMessage';\r\nimport styled from 'styled-components';\r\nimport OrderStyles from './styles/OrderStyles';\r\nimport SubHeader from '../components/SubHeader';\r\n// import DeleteUser from './DeleteUser'; \r\n\r\nconst SINGLE_ORDER_QUERY = gql`\r\n\tquery SINGLE_ORDER_QUERY($id: ID!) {\r\n\t\torder(id: $id) {\r\n\t\t\tid\r\n\t\t\tcharge\r\n\t\t\ttotal\r\n\t\t\tcreatedAt\r\n\t\t\tuser {\r\n\t\t\t\tid\r\n\t\t\t}\r\n\t\t\titems {\r\n\t\t\t\tid\r\n\t\t\t\ttitle\r\n\t\t\t\tdescription\r\n\t\t\t\tprice\r\n\t\t\t\timage\r\n\t\t\t\tquantity\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n\r\n\r\nconst CURRENT_USER_QUERY = gql`\r\n    query {\r\n        authenticatedItem {\r\n            ... on User {\r\n                id\r\n                email\r\n                name\r\n                cart {\r\n                    id\r\n                    quantity\r\n                    product {\r\n                        id\r\n                        price\r\n                        name\r\n                        description\r\n                        photo {\r\n                            image {\r\n                                publicUrlTransformed\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                role {\r\n                    id\r\n                    name\r\n                    canManageProducts\r\n                    canSeeOtherUsers\r\n                    canManageUsers\r\n                    canManageRoles\r\n                    canManageCart\r\n                    canManageOrders\r\n                    canManageReviews\r\n                }\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nconst StyledLinked = styled.div`\r\n\r\n  \ta {\r\n    \tcolor: ${props => props.theme.navyBlue};\r\n  \t}\r\n\r\n  \ta:hover {\r\n    \tcolor: ${props => props.theme.navyBlue};\r\n    \ttext-decoration: none;\r\n  \t}\r\n\r\n`;\r\n\r\nexport default function Account({ id }) {\r\n\tconst user = useUser();\r\n\r\n\tconst { data, error, loading } = useQuery(CURRENT_USER_QUERY, {\r\n        variables: {\r\n            id\r\n        },\r\n    });\r\n\r\n\tconsole.log(data)\r\n\r\n\tif (loading) return <p>Loading...</p>;\r\n    if (error) return <p>Error: {error.message}</p>;\r\n\t\t\r\n\treturn (\r\n\t\t<StyledLinked>\r\n\t\t\t{/* <Query query={CURRENT_USER_QUERY} variables={{ id: this.props.id }}> */}\r\n\t\t\t\t{/* {({ data, error, loading }) => {\r\n\t\t\t\t\tif (error) return <Error error={error} />;\r\n\t\t\t\t\tif (loading) return <p>Loading</p>;\r\n\t\t\t\t\tconst user = data.me;\r\n\t\t\t\t\tconst me = data ? data.me : null; */}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<OrderStyles data-test=\"user\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<span>User ID:</span> \r\n\t\t\t\t\t\t\t\t\t\t<span>{data?.authenticatedItem?.id}</span>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<span>Email:</span>\r\n\t\t\t\t\t\t\t\t\t\t<span>{data?.authenticatedItem?.email}</span>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t\t\t{/* <p>\r\n\t\t\t\t\t\t\t\t\t\t<span>Account Action:</span>\r\n\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t<a><DeleteUser id={data?.authenticatedItem?.User?.id}>Delete Account</DeleteUser></a>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</p> */}\r\n\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<span>Orders:</span>\r\n\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t<NavLink activeClassName='active' prefetch=\"true\" href=\"/orders\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<u><a href=\"\">Purchased Orders</a></u>\r\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t\t\t\t{/* {me && (\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{me.permissions.includes(\"ADMIN\") && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>All User Permissions:</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<NavLink activeClassName='active' prefetch=\"true\" href=\"/permissions\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<u><a href=\"\">Permissions</a></u>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Delivery Method:</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<NavLink activeClassName='active' prefetch=\"true\" href=\"/createDeliveryMethod\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a>Create Delivery</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t)} */}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</OrderStyles>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t{/* }} */}\r\n\t\t\t\t\r\n\t\t\t{/* </Query> */}\r\n\t\t</StyledLinked>\r\n\t);\r\n}"]},"metadata":{},"sourceType":"module"}